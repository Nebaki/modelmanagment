(window.webpackJsonp=window.webpackJsonp||[]).push([[5,125,206,225],{1006:function(e,t,r){var content=r(1144);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("03b4db08",content,!0,{sourceMap:!1})},1007:function(e,t,r){var content=r(1146);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("5c467984",content,!0,{sourceMap:!1})},1143:function(e,t,r){"use strict";r(1006)},1144:function(e,t,r){var n=r(25)(!1);n.push([e.i,".uploader-container[data-v-03395587]{display:flex}@media screen and (max-width:768px){.uploader-container[data-v-03395587]{flex-direction:column}}",""]),e.exports=n},1145:function(e,t,r){"use strict";r(1007)},1146:function(e,t,r){var n=r(25)(!1);n.push([e.i,".drop-area{display:flex;justify-content:center;align-items:center;width:13rem;height:13rem;border:3px dashed #d1053e;border-radius:1rem;cursor:pointer}.drop-area .uploading{display:flex;flex-direction:column;align-items:center}.drop-area .loading-icon{margin-bottom:1rem;-webkit-animation:spinAround .5s linear infinite;animation:spinAround .5s linear infinite}.drop-area .uploading-text{color:#d1053e;font-weight:700}.is-disabled *{pointer-events:none}",""]),e.exports=n},1232:function(e,t,r){"use strict";r.r(t);r(16),r(17),r(19),r(20),r(21),r(36),r(61);var n=r(12),o=r(14),l=(r(29),r(133),r(44),r(101),r(60),r(23),r(59),r(39),r(3)),c=r(79),d=r.n(c),f=r(35),m=r(214),v=r(2),h=Object(v.c)((function(e,t,data){var r=Object(m.a)(e).appUrl;return t.get("".concat(r,"/upload/auth/"),{headers:{"X-Requested-With":"XMLHttpRequest"},params:data})})),y=Object(v.b)((function(e){return e.post("/users/videos/video-upload-link")})),x=function(e,data){return new Promise((function(t,r){var n=new XMLHttpRequest;n.open("POST",e,!0),n.onload=function(){n.status>=200&&n.status<400?t(n.responseText):r(n.responseText)},n.onerror=function(){r()},n.send(data)}))};function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S=Object(l.b)({props:{value:[Object,Array],label:String,name:String,title:String,accept:String,multiple:Boolean,dragDrop:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,placeholder:String,rounded:Boolean,disabled:Boolean,vid:String,dataCy:String},setup:function(e,t){var r=Object(l.a)((function(){var t;return d()(e.value)?e.value.map((function(e){return e.file})):null===(t=e.value)||void 0===t?void 0:t.file})),n=Object(l.a)((function(){return e.value?d()(e.value)?e.value.length:1:0})),c=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.type.startsWith("image/")){t.next=8;break}return t.next=4,Object(f.j)(r,e.maxWidth,e.maxHeight);case 4:return n=t.sent,t.abrupt("return",k(k({},n),{},{type:"image",file:r}));case 8:return t.abrupt("return",{src:URL.createObjectURL(r),type:"video",file:r});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d()(r)){e.next=6;break}return e.next=3,Promise.all(r.map((function(e){return c(e)})));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,c(r);case 8:e.t0=e.sent;case 9:n=e.t0,t.emit("input",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.file&&(null==r?void 0:r.blob)){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,h({context:t},{name:encodeURIComponent(r.file.name),content_type:encodeURIComponent(r.blob.type),size:r.blob.size,width:r.width,height:r.height});case 5:if((n=e.sent).data.success){e.next=8;break}throw new Error("");case 8:return data=n.data.data,(o=new FormData).append("key",data.key),o.append("policy",data.policy),o.append("signature",data.signature),o.append("Content-Type",data.content),o.append("GoogleAccessId",data.access),o.append("file",r.blob,data.key),e.next=18,x(data.url,o);case 18:return e.abrupt("return",data.id);case 21:return e.prev=21,e.t0=e.catch(2),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.file){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,y({context:t});case 5:if((n=e.sent).data.success){e.next=8;break}throw new Error("");case 8:return data=n.data.data,(o=new FormData).append("file",r.file),e.next=13,x(data.uploadURL,o);case 13:return t.emit("uid",data.uid),e.abrupt("return",data.uid);case 17:return e.prev=17,e.t0=e.catch(2),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t?void 0:t.id)){e.next=2;break}return e.abrupt("return",t.id);case 2:if(t.type){e.next=4;break}return e.abrupt("return",null);case 4:if("image"!==t.type){e.next=8;break}return e.abrupt("return",v(t));case 8:if("video"!==t.type){e.next=10;break}return e.abrupt("return",j(t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){var r=0;t(r,e.length);var n,o=O(e);try{for(o.s();!(n=o.n()).done;){n.value.then((function(){r++,t(r,e.length)}))}}catch(e){o.e(e)}finally{o.f()}return Promise.all(e)},R=Object(l.i)(!1),C=Object(l.i)(0);return{props:e,files:r,fileCount:n,handleInput:m,upload:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.value||data.length){R.value=!0,C.value=1;var r=(null==data?void 0:data.length)?data:e.value,n=d()(r)?S(r.map((function(e){return w(e)})),(function(e,t){C.value!==t&&(C.value=e+1)})):w(r);return n.finally((function(){R.value=!1,C.value=0,t.emit("input",e.multiple?[]:null)})),n}},isUploading:R,currentlyUploading:C}}}),R=S,C=(r(1143),r(1145),r(10)),component=Object(C.a)(R,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"uploader-container"},[r("BUpload",{attrs:{value:e.files,multiple:e.props.multiple,"drag-drop":e.props.dragDrop,disabled:e.props.disabled||e.isUploading,name:e.props.name,accept:e.props.accept,"data-cy":e.props.dataCy},on:{input:e.handleInput}},[e._t("default",(function(){return[r("div",{staticClass:"drop-area"},[e.isUploading?r("div",{staticClass:"uploading"},[r("IconLoading",{staticClass:"loading-icon"}),e._v(" "),e.isUploading&&e.props.multiple?r("div",{staticClass:"uploading-text"},[e._v("\n                        "+e._s(e.$t("fields.uploader.uploading"))+" "+e._s(e.currentlyUploading)+"/"+e._s(e.fileCount)+"\n                    ")]):e._e()],1):r("BButton",{staticClass:"primary is-round upload-icon",attrs:{tag:"a",rounded:""}},[r("IconPlus")],1)],1)]}),{params:{isUploading:e.isUploading,currentlyUploading:e.currentlyUploading,fileCount:e.fileCount}})],2)],1)}),[],!1,null,"03395587",null);t.default=component.exports;installComponents(component,{IconLoading:r(783).default,IconPlus:r(761).default})},761:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(18),l=Object(n.b)({props:{size:{type:String,default:"is-normal"}},setup:function(e){return{props:e,mdiPlus:o.Ab}}}),c=r(10),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("IconBase",{attrs:{path:e.mdiPlus,size:e.props.size}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{IconBase:r(30).default})},783:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(18),l=Object(n.b)({props:{size:{type:String,default:"is-normal"}},setup:function(e){return{props:e,mdiLoading:o.nb}}}),c=r(10),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("IconBase",{attrs:{path:e.mdiLoading,size:e.props.size}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{IconBase:r(30).default})},882:function(e,t,r){"use strict";r.r(t);r(133);var n=r(3),o=Object(n.b)({props:{value:[Object,Array],label:String,name:String,title:String,accept:String,multiple:Boolean,dragDrop:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,rules:String,rounded:Boolean,disabled:Boolean,vid:String,dataCy:String},setup:function(e,t){var r=Object(n.i)(null),o=Object(n.i)(null);return{props:e,handleInput:function(n){var o,l;t.emit("input",n),null===(l=null===(o=r.value)||void 0===o?void 0:o.validationProviderRef)||void 0===l||l.validate(n,e.rules)},wrapperRef:r,uploaderRef:o,sendUid:function(e){t.emit("uid",e)}}}}),l=r(10),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("FormFieldWrapper",{ref:"wrapperRef",attrs:{label:e.props.label,name:e.props.name,title:e.props.title,rules:e.props.rules,vid:e.props.vid}},[r("FormUploader",{ref:"uploaderRef",attrs:{value:e.props.value,multiple:e.props.multiple,"drag-drop":e.props.dragDrop,disabled:e.props.disabled,name:e.props.name,accept:e.props.accept,maxWidth:e.props.maxWidth,maxHeight:e.props.maxHeight,"data-cy":e.props.dataCy},on:{input:e.handleInput,uid:e.sendUid},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{params:t.params})]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FormUploader:r(1232).default,FormFieldWrapper:r(341).default})}}]);